# 🍄⭐ Mario Bros PowerUps - The Ultimate AI Orchestra ⭐🍄

**"When legendary characters unite their powers, they create solutions that transcend individual brilliance!"**

Welcome to the most advanced multi-character AI collaboration system for Claude Code! Mario PowerUps transforms your development experience with specialized characters, fusion teams, and interactive development features.

## 📦 Quick Installation

```bash
npm install -g @zubenelakrab/powerup
powerup install
```

## 🎼 What are Mario Bros PowerUps?

Mario Bros PowerUps represents the evolution of AI-assisted development through character-based specialization and team collaboration. This isn't just themed prompts - it's a complete development enhancement system where:

### 🌟 **Revolutionary Capabilities**
- **🤖 Claude Code Subagents**: 6 professional AI specialists with isolated context windows
- **🧠 30+ Thinking Modifiers**: Advanced reasoning strategies (CoT, ToT, GoT, multi-agent, etc.)
- **⚡ Cross-Platform NPM Package**: Professional Node.js installer for all platforms
- **🎭 Multi-Character Teams**: Specialized fusion teams for complex collaborative tasks
- **🧠 Intelligent Language Detection**: Automatic detection and support for 70+ programming languages
- **🔧 Interactive Development Hooks**: Real-time achievements, coin collection, progress tracking
- **🎨 Interactive Experience**: Gamified development with achievements and progress tracking
- **🌍 Universal Language Mastery**: Seamless support across all programming domains

## 🚀 Experience the PowerUps

### 🤖 **Claude Code Subagents**

**Professional AI specialists with isolated context windows:**

```bash
# Automatic subagent selection based on task
"Debug this memory leak in my React application"
# → Routes to luigi-debugger subagent

# Explicit subagent invocation
"Use the mario-hero subagent to build a full-stack authentication system"
"Ask the peach-architect subagent to design microservices architecture"
"Have the bowser-optimizer subagent optimize this database performance"
```

**Available Subagents:**
- **mario-hero**: Complete full-stack development powerhouse
- **luigi-debugger**: Debugging and quality assurance specialist  
- **peach-architect**: Divine system architect with mathematical elegance
- **bowser-optimizer**: Raw performance optimization beast
- **rosalina-systems-analysis**: Cosmic systems thinking oracle
- **toadette-i18n**: Global internationalization specialist

### 🧠 **Advanced Thinking Modifiers**

**30+ reasoning strategies enhance every character:**

```bash
# Single modifiers
/mario:cot "implement user authentication"           # Chain of Thought
/luigi:hypothesis "debug this intermittent error"    # Hypothesis Testing
/peach:mind-map "design system architecture"        # Mind Map Structure

# Combined modifiers  
/mario:cot+reflection "refactor this legacy codebase"
/luigi:hypothesis+verify "analyze security vulnerabilities"
/rosalina:got+what-if "evaluate architectural trade-offs"
```

**Modifier Categories:**
- **Sequential**: `:cot`, `:iterative-cot`, `:rot`
- **Tree**: `:tot`, `:monte-carlo`, `:bfs`, `:dfs`  
- **Network**: `:got`, `:mind-map`
- **Collaborative**: `:multi-agent`, `:socratic`, `:debate`
- **Action**: `:react`, `:pal`, `:plan-solve`
- **Verification**: `:reflection`, `:verify`, `:scratch`

### 🎼 **Launch Multi-Character Teams**

```bash
# 🌟 Start multi-character collaboration for complex challenges
/mario-orchestra "Design event-driven microservices for financial trading platform"

# 🎭 Activate specialized fusion teams with thinking modifiers
/fire-trio:debate+verify "comprehensive security review of authentication system"
/smart-builder:cot+reflection "create real-time collaborative dashboard" 
/fortress:multi-agent "security audit for healthcare data platform"
```

### 🎯 **Character Specialization**

Each character brings unique expertise:
```bash
# Mario: Enthusiastic full-stack development
/mario-code "implement user authentication with JWT tokens"

# Luigi: Careful debugging and testing
/luigi-debug "analyze memory leaks in React application"

# Princess Peach: Elegant architecture and design
/peach-architect "design scalable microservices architecture"

# Bowser: Performance optimization and scaling
/bowser-optimize "optimize database queries for high traffic"
```

### 🔥 **Fusion Team Collaboration**

Combine character strengths for complex challenges:
```bash
# Fire Trio: Comprehensive code review
/fire-trio "review authentication middleware for security vulnerabilities"

# Smart Builder: End-to-end feature development
/smart-builder "create real-time chat system with file sharing"

# Fortress: Security-focused architecture
/fortress "design secure payment processing system"

# Chaos Engine: Extreme stress testing
/chaos-engine "test social platform for 10M concurrent users"
```

## 🎼 Musical Sheets Architecture (v2.0)

**Revolutionary Clean Architecture**: Mario PowerUps commands have been optimized as pure "Musical Sheets" - comprehensive AI knowledge repositories without executable code examples. This provides:

### ✨ **Optimization Benefits**
- **🧠 Pure Knowledge**: Commands contain methodologies, frameworks, and expertise patterns
- **🎯 AI-Guided Execution**: Claude generates solutions based on knowledge sheets + your context
- **⚡ Adaptive Intelligence**: Character expertise adapts to your specific technology stack
- **🔄 Dynamic Solutions**: Knowledge frameworks guide context-aware code generation
- **📦 Clean Separation**: Knowledge (commands) separate from execution (Claude's intelligence)

### 🎵 **How Musical Sheets Work**
Each character command is now a curated knowledge repository that guides Claude's thinking:
- **Mario**: Full-stack methodologies and strategic development approaches
- **Luigi**: Debugging frameworks and paranoid quality assurance patterns  
- **Peach**: Architectural principles and elegant design methodologies
- **Bowser**: Performance optimization strategies and scaling techniques
- **Rosalina**: Systems thinking frameworks and cosmic analysis patterns
- **Toadette**: Internationalization methodologies and linguistic expertise

This approach delivers more intelligent, context-aware assistance that adapts to your specific project needs rather than providing generic code examples.

## 👥 The Legendary Character Team

### 🌟 **Systems Architect**
#### 🌟 **Rosalina** - The Systems Thinking Master
*"From this cosmic perspective, I see how all systems interconnect across space and time"*
```bash
/rosalina-systems-analysis [complex-situation]    # Holistic systems analysis
/rosalina-trade-off-analysis [decision]          # Illuminate hidden trade-offs  
/rosalina-technical-debt-vision [codebase]       # Strategic debt management
/rosalina-architectural-decisions [context]      # Guide major architectural choices
```

### 🧬 **Core Character Team**

#### 🍄 **Mario** - The Strategic Enthusiast
*"Wahoo! Let's think strategically and build something amazing!"*
```bash
/mario-code [task]           # Enthusiastic implementation with strategic thinking
/mario-evolve               # Trigger Mario's continuous improvement
```

#### 👻 **Luigi** - The Constructive Debugger
*"Let me find the problem AND give you the practical solution!"*
```bash
/luigi-debug [issue]         # Thorough analysis WITH actionable solutions
/luigi-evolve               # Enhance Luigi's solution-oriented debugging
```

#### 👸 **Princess Peach** - The Elegant Architect
*"Let us create something truly elegant that scales beautifully!"*
```bash
/peach-architect [system]    # Graceful architecture that balances elegance with practicality
/peach-evolve               # Refine Peach's architectural wisdom
```

#### 🐢 **Bowser** - The Performance Dominator
*"ROAAAAR! I'll make this system UNBREAKABLY fast and scalable!"*
```bash
/bowser-optimize [system]    # Strategic performance optimization with raw power
/bowser-evolve              # Evolve Bowser's optimization strategies
```

### 🧠 **Advanced Intelligence Specialists**

#### 🩺 **Dr. Mario** - The System Health & Diagnostics Master
*"Mamma mia! Let Dr. Mario diagnose your system's health and prescribe the perfect cure!"*
```bash
/dr-mario-checkup [system]       # Comprehensive system health examination with vital signs
/dr-mario-diagnose [symptoms]    # Precise diagnostic analysis of system issues
/dr-mario-prescribe [diagnosis]  # Targeted treatment prescriptions for code ailments  
/dr-mario-emergency [situation]  # Critical system resuscitation and recovery protocols
```

#### 🧬 **Professor E. Gadd** - The Algorithms Scientist
*"Let me analyze this with scientific rigor and algorithmic precision!"*
```bash
/professor-algorithm-analysis [problem]    # Deep algorithmic optimization and complexity analysis
/professor-research [topic]               # Academic-grade technical research
/professor-complexity-analysis [code]     # Mathematical analysis of performance characteristics
```

#### 🍄 **Captain Toad** - The Tooling & Environment Explorer
*"Ready for adventure? Let's explore the perfect development environment!"*
```bash
/captain-toad-environment-setup [project-type]  # Complete development environment optimization
/captain-toad-ci-cd-pipeline [requirements]     # Automated deployment pipeline design
/captain-toad-tool-discovery [problem]          # Find and integrate the perfect tools
```

#### 👑 **King K. Rool** - The Technical Leadership King  
*"Rule your technical domain through strategic wisdom and team development!"*
```bash
/king-k-rool-leadership-development [role]      # Technical leadership growth strategies
/king-k-rool-career-strategy [goal]             # Strategic career advancement planning
/king-k-rool-executive-communication [topic]    # Master C-level technical communication
```

#### 🌍 **Toadette** - The Internationalization Specialist
*"Let's make your app speak to the world! Every user deserves to use your application in their native language!"*
```bash
/toadette-i18n-specialist [project]    # Comprehensive i18n analysis and implementation
/toadette-analyze-i18n [path]          # Analyze existing i18n implementation and coverage
/toadette-implement-i18n [config]      # Implement i18n from scratch with best practices
/toadette-enhance-i18n [features]      # Enhance existing i18n with advanced features
```

## 🎭 Advanced Multi-Agent Fusion Teams

### 🔥 **The Fire Trio** - Ultimate Code Review Team
**Members**: Mario + Luigi + Wario  
**Magic**: Combines enthusiasm, paranoid testing, and performance obsession
```bash
/fire-trio [code-to-review]  # Triple-perspective comprehensive analysis
```

### 🏗️ **The Smart Builder** - Complete Feature Development
**Members**: Princess Peach + Yoshi + Donkey Kong  
**Magic**: Elegant architecture + user validation + powerful implementation
```bash
/smart-builder [feature-requirements]  # End-to-end feature creation
```

### 🏰 **The Fortress** - Secure Architecture Team
**Members**: Mario + Princess Peach + Bowser  
**Magic**: Implementation security + architectural security + adversarial testing
```bash
/fortress [system-to-secure]  # Comprehensive security orchestration
```

### 🌪️ **The Chaos Engine** - Ultimate Stress Testing
**Members**: Luigi + Wario + Bowser  
**Magic**: Paranoid edge cases + performance limits + chaos engineering
```bash
/chaos-engine [system-to-test]  # Maximum stress testing and validation
```

## 🌍 Complete Learning Worlds

### 🏔️ **World 1-1** - The Beginning Adventure
Perfect for developers starting their journey:
```bash
/world-1-1-start [technology]    # Beginner-friendly learning with patient guidance
/world-1-1-practice [concept]    # Hands-on practice with immediate feedback
```

### 🏰 **World 8-1** - Enterprise Architecture Castle
Master enterprise-level challenges:
```bash
/world-8-1-design-system [requirements]     # Complex system architecture
/world-8-1-solid-principles [codebase]      # Apply all SOLID principles
/world-8-1-performance-fortress [system]    # High-performance system design
```

### 🌀 **Warp Zone** - DevOps & Cloud Engineering
Master modern deployment and infrastructure:
```bash
/warp-zone-pipeline-design [requirements]        # Complete CI/CD automation
/warp-zone-cloud-architecture [scale]           # Scalable cloud-native systems
/warp-zone-infrastructure-code [platform]       # Infrastructure as Code mastery
```

### 🏫 **King Koopa University** - Structured Learning Academy
Complete software engineering education:
```bash
/kku-enroll [course]              # Structured learning paths from beginner to expert
/kku-curriculum [track]           # View complete learning curriculum
/kku-assignment [topic]           # Get hands-on programming assignments
```

## 🎯 Character Team Use Cases - Real Impact

### 🏢 **Enterprise Architecture**
```bash
/mario-orchestra "Design fault-tolerant event-driven architecture for financial services"
# → Multi-character collaboration combining systems thinking, elegant design, and performance optimization
```

### 🚀 **Innovation Breakthroughs**  
```bash
/smart-builder "Create AI-powered collaborative code editor like Figma for programming"
# → Smart Builder team: elegant architecture + user validation + powerful implementation
```

### 🔒 **Security-Critical Systems**
```bash
/fortress "Complete security audit for healthcare patient data management platform"
# → Fortress team: implementation security + architectural security + adversarial testing
```

### 🧠 **Complex Problem Solving**
```bash
/cosmic-council "Strategic migration of 200-person engineering organization to microservices"
# → Systems analysis + algorithmic optimization + leadership strategy
```

## 🌟 Revolutionary Features

### 🧠 **Intelligent Multi-Language System**
- **70+ Programming Languages**: Comprehensive support across all programming domains
- **Automatic Detection**: Instantly identifies languages from natural descriptions, code patterns, and context
- **Character Specialization**: Each character has language-specific expertise across their domain
- **Seamless Routing**: Automatically routes to the most appropriate specialist for optimal results

#### 🌍 **Supported Language Categories**

**Frontend Development**
- Languages: HTML, CSS, JavaScript, TypeScript, JSX, TSX
- Frameworks: React, Vue, Angular, Svelte, Next.js, Nuxt.js

**Backend Development**
- Languages: Python, Node.js, Java, C#, Go, Rust, PHP, Ruby, Scala, Elixir
- Frameworks: Express, Django, Flask, Spring, Laravel, Rails, FastAPI

**Mobile Development**
- Languages: Kotlin, Swift, Dart, Java, C#, JavaScript
- Frameworks: Flutter, React Native, Xamarin, Ionic

**Data Science**
- Languages: Python, R, Julia, SQL, Scala, MATLAB
- Libraries: Pandas, NumPy, TensorFlow, PyTorch, Scikit-learn

**Systems Programming**
- Languages: C, C++, Rust, Go, Zig, Assembly, Fortran
- Areas: Embedded, Kernel, Drivers, Performance

**DevOps & Infrastructure**
- Languages: Bash, PowerShell, YAML, Terraform, Ansible
- Platforms: Docker, Kubernetes, AWS, GCP, Azure

**Functional Programming**
- Languages: Haskell, OCaml, F#, Elm, Clojure, Erlang, Elixir
- Paradigms: Pure functions, Immutability, Type systems

**Game Development**
- Languages: C++, C#, Lua, GDScript, HLSL, GLSL
- Engines: Unity, Unreal, Godot

**Blockchain & Web3**
- Languages: Solidity, Vyper, Rust, Go, JavaScript
- Platforms: Ethereum, Polygon, Solana

#### 🎯 **Intelligent Usage Examples**

```bash
# Automatic language detection
/mario-code "create a REST API with authentication"
# → Detects backend context → Routes to appropriate specialist

/luigi-debug "fix memory leaks in this React component"
# → Detects React → Routes to Luigi React Debug Specialist

# Explicit language specification
/peach-architect:python "design microservices architecture"
# → Explicit Python → Routes to Peach Python Architect

/bowser-optimize:rust "maximize concurrent processing performance"
# → Explicit Rust → Routes to Bowser Rust Performance Specialist

# File-based detection
/mario-code --file="src/App.tsx" "add dark mode support"
# → Detects TypeScript React → Routes to React specialist

/dr-mario-checkup --file="training.py" "diagnose model performance"
# → Detects Python ML → Routes to Data Science specialist
```

### 🎯 **Character Specialization System**
- **Domain Expertise**: Each character excels in specific development areas
- **Personality-Driven Approach**: Authentic character traits influence problem-solving style
- **Complementary Skills**: Characters designed to work together effectively
- **Consistent Experience**: Reliable character behavior across all interactions

### 🔥 **Fusion Team Dynamics**
- **Strategic Combinations**: Pre-designed teams for common development scenarios
- **Synergistic Effects**: Team performance exceeds individual character capabilities
- **Task-Optimized**: Each team optimized for specific types of challenges
- **Scalable Collaboration**: From simple pairs to complex multi-character teams

### 🏆 **Achievement & Progress System**
- **Skill Development**: Track progress through coding mastery worlds (1-1 to 8-1)
- **Achievement Unlocks**: Earn coins and unlock new capabilities
- **Streak Tracking**: Maintain coding streaks for bonus rewards
- **Milestone Celebrations**: Major achievements trigger special celebrations

### 🪝 **Advanced Claude Code Hook System - Mario PowerUp Integration**

Transform your development experience with **comprehensive Claude Code hooks** that create a living, interactive Mario gaming layer on top of your coding workflow!

#### 🎯 **Complete Hook Event Coverage**

Mario PowerUps leverage the full spectrum of Claude Code hook events:

```bash
# 📊 Hook Event Types Available:
PreToolUse      # 🛡️  Before tool execution - Safety, validation, pre-processing
PostToolUse     # 🎉  After tool completion - Celebrations, coins, achievements  
UserPromptSubmit # 🎮  When user submits prompt - Context injection, validation
SessionStart    # 🌟  Session initialization - Load progress, welcome messages
Stop/SubagentStop # 🏁  Agent completion - Final celebrations, progress saves
Notification    # 📢  System notifications - Status updates, reminders
PreCompact      # 🧹  Before context compaction - Data preservation
```

#### 🎮 **Mario Gaming Hook Implementations**

##### 🛡️ **Mario Safety Guardian (PreToolUse)**
```bash
# mario-safety-guardian.sh - Advanced safety validation
# Input:  {"tool_name": "Bash", "tool_input": {"command": "rm -rf /"}}
# Action: Blocks dangerous commands with Mario personality
# Output: JSON decision control with character feedback

{
  "hookSpecificOutput": {
    "hookEventName": "PreToolUse", 
    "permissionDecision": "deny",
    "permissionDecisionReason": "🚨 MARIO SAYS: 'WAHOO! That's-a too dangerous! I can't-a let you do that!'"
  },
  "suppressOutput": false
}
```

##### 🪙 **Advanced Coin Collection System (PostToolUse)**  
```bash
# coin-collector.sh - Comprehensive achievement tracking
# Input:  {"tool_name": "Write", "tool_response": {"success": true, "filePath": "/path/file.js"}}
# Tracks: Multi-dimensional progress across all Mario worlds
# Output: Dynamic celebrations based on achievement level and streaks

# Example outputs based on achievements:
"🪙 *ding* Coin collected! (47 total) | World 2-1 Progress: 73%"
"⭐ STAR POWER! 10-command streak! You're invincible!"
"🏰 NEW WORLD UNLOCKED! Welcome to World 5-1: Performance Castle!"
"👑 LEGENDARY STATUS: You've become a Code Master!"
```

##### 🌟 **Context-Aware Session Enhancement (UserPromptSubmit)**
```bash
# mario-context-enhancer.sh - Smart context injection
# Input:  {"prompt": "I need help with React components"}
# Action: Analyzes prompt and adds relevant context
# Output: Enhanced context for better responses

{
  "hookSpecificOutput": {
    "hookEventName": "UserPromptSubmit",
    "additionalContext": "🍄 Mario Context: Detected React development. Current project uses TypeScript, has 47 components, testing with Jest. Recent focus on performance optimization."
  }
}
```

##### 🎊 **Epic Achievement Celebrations (SessionStart)**
```bash  
# mario-session-welcome.sh - Dynamic session initialization
# Input:  {"session_id": "abc123", "source": "startup"}
# Action: Loads user progress and provides personalized welcome
# Output: Motivational context based on current journey

{
  "hookSpecificOutput": {
    "hookEventName": "SessionStart",
    "additionalContext": "🌟 Welcome back, Legendary Developer! You're Level 34 with 15,847 coins. Today's quest: Complete the microservices architecture challenge! 🏰"
  }
}
```

##### 🪙 **Advanced Claude Code Usage Analytics (PostToolUse)**
```bash
# mario-token-counter.sh - Real-time Claude Code usage tracking
# Based on: Official Claude Code limits and Anthropic's actual usage patterns
# Features: Request-based tracking + new weekly limits (Aug 2025)

# Input:  {"tool_name": "Write", "tool_input": {...}, "tool_response": {...}}
# Action: Tracks requests/tokens, analyzes against real Claude limits
# Output: Accurate analytics with plan-specific guidance

🔄 Request #23 | 🪙 +2,054 tokens | 📊 Total: 47,234 | 🕐 2.3h
⚡ Great progress! You're in the optimal usage zone!

📊 ══════ MARIO CLAUDE CODE ANALYTICS ══════ 📊
🕐 Session: 2.3h (resets every 5h)
📅 Weekly Requests: 87 (resets every 7 days)  
🔄 Session Requests: 23
🪙 Total Tokens: 47,234 (estimated)

📋 Plan Usage Estimates:
  👤 Pro Plan: 23/~40 prompts (57%)
  🌟 Max 5x: 23/~200 prompts (11%)  
  👑 Max 20x: 23/~800 prompts (2%)

📊 Usage Progress by Plan:
  👤 Pro: 🟢🟢🟢🟢🟢🟠⬜⬜⬜⬜ (57%)
  🌟 Max 5x: 🟢⬜⬜⬜⬜⬜⬜⬜⬜⬜ (11%)
  👑 Max 20x: 🟢⬜⬜⬜⬜⬜⬜⬜⬜⬜ (2%)

💡 Plan-Specific Guidance:
  📊 Pro: Active usage - good productivity pace  
  🌟 Max 5x: Excellent capacity for complex projects
  👑 Max 20x: Unlimited-like capacity for enterprise workflows
```

**Revolutionary Features:**
- **Multi-Plan Comparison**: Shows usage estimates for Pro, Max 5x, and Max 20x simultaneously  
- **Real Claude Limits**: Based on actual Pro (10-40 prompts/5h) and Max (5x/20x) patterns
- **Weekly Tracking**: New Aug 2025 limits for power users (~5% of users affected)
- **Request-Focused**: Tracks prompts (more relevant than raw tokens for Claude Code)
- **Plan-Specific Guidance**: Tailored recommendations for each plan tier
- **Visual Progress Bars**: Color-coded progress for each plan (Pro/Max 5x/Max 20x)
- **Upgrade Recommendations**: Smart suggestions when approaching limits

#### ⚙️ **Advanced Hook Configuration Patterns**

##### 🎯 **Intelligent Tool Targeting**
```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [{"type": "command", "command": "$HOME/.claude/hooks/mario-safety-guardian.sh"}]
      },
      {
        "matcher": "Edit|Write|MultiEdit", 
        "hooks": [{"type": "command", "command": "$HOME/.claude/hooks/code-quality-checker.sh"}]
      },
      {
        "matcher": "mcp__.*",
        "hooks": [{"type": "command", "command": "$HOME/.claude/hooks/mcp-integration-tracker.sh"}]
      }
    ],
    "PostToolUse": [
      {
        "matcher": ".*",
        "hooks": [{"type": "command", "command": "$HOME/.claude/hooks/coin-collector.sh"}]
      },
      {
        "matcher": "Task",
        "hooks": [{"type": "command", "command": "$HOME/.claude/hooks/subagent-celebration.sh"}]
      }
    ],
    "UserPromptSubmit": [
      {
        "hooks": [{"type": "command", "command": "$HOME/.claude/hooks/mario-context-enhancer.sh"}]
      }
    ],
    "SessionStart": [
      {
        "hooks": [{"type": "command", "command": "$HOME/.claude/hooks/mario-session-welcome.sh"}]
      }
    ]
  }
}
```

##### 🚀 **Project-Specific Hook Workflows**
```json
{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Write",
        "hooks": [
          {
            "type": "command",
            "command": "$CLAUDE_PROJECT_DIR/.claude/hooks/project-style-validator.sh",
            "timeout": 30
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command", 
            "command": "$CLAUDE_PROJECT_DIR/scripts/auto-test-runner.sh"
          }
        ]
      }
    ]
  }
}
```

#### 🧬 **Advanced Hook Features & Capabilities**

##### 📊 **Comprehensive Input/Output Processing**
```typescript
// Hook Input Schema (JSON via stdin)
interface HookInput {
  session_id: string
  transcript_path: string  
  cwd: string
  hook_event_name: string
  tool_name?: string           // PreToolUse, PostToolUse
  tool_input?: object          // PreToolUse, PostToolUse  
  tool_response?: object       // PostToolUse
  prompt?: string              // UserPromptSubmit
  message?: string             // Notification
  source?: string              // SessionStart
  trigger?: string             // PreCompact
}

// Advanced JSON Output Control
interface HookOutput {
  continue?: boolean           // Control execution flow
  stopReason?: string          // Message when continue=false
  suppressOutput?: boolean     // Hide from transcript
  decision?: "approve" | "block" | "ask"  // Flow control
  reason?: string              // Explanation for decisions
  hookSpecificOutput?: {       // Event-specific controls
    hookEventName: string
    permissionDecision?: "allow" | "deny" | "ask"
    permissionDecisionReason?: string
    additionalContext?: string
  }
}
```

##### 🛡️ **Security & Safety Patterns**
```bash
# Advanced input validation and sanitization
validate_file_path() {
  local path="$1"
  # Block path traversal
  if [[ "$path" == *".."* ]]; then
    echo "🚫 MARIO GUARDIAN: Path traversal blocked!" >&2
    exit 2
  fi
  # Block sensitive files
  if [[ "$path" =~ \.(env|key|pem|p12)$ ]]; then
    echo "🛡️ MARIO GUARDIAN: Sensitive file protected!" >&2  
    exit 2
  fi
}

# Proper shell variable quoting
execute_safe_command() {
  local cmd="$1"
  local project_dir="$CLAUDE_PROJECT_DIR"
  
  # Always quote variables
  if [[ -n "$project_dir" ]]; then
    cd "$project_dir" || exit 1
    eval "$cmd" 2>&1
  fi
}
```

#### 🌟 **Mario PowerUp Hook Ecosystem**

**Core Hook Scripts:**
- 🛡️ `mario-safety-guardian.sh` - Advanced security validation with character personality
- 🪙 `coin-collector.sh` - Multi-dimensional achievement tracking and celebrations  
- 🧠 `mario-context-enhancer.sh` - Intelligent prompt enhancement with project context
- 👋 `session-welcome.sh` - Dynamic session initialization with progress loading
- 💾 `progress-saver.sh` - Automatic progress persistence across sessions
- 🪙 `mario-token-counter.sh` - Real-time Claude usage analytics with 5-hour session windows
- 🎊 `achievement-celebrator.sh` - Epic celebrations for major milestones
- 🎵 `sound-effects.sh` - Authentic Mario audio feedback (where supported)

**Advanced Features:**
- 🎯 **Smart Targeting** - Different hooks for different tools and contexts
- 🔄 **Session Persistence** - Progress and achievements persist across sessions  
- 🌍 **World Progression** - Journey through 8 coding mastery worlds (1-1 to 8-1)
- 🎮 **Gaming Mechanics** - Coins, achievements, streaks, power-ups, boss battles
- 🎭 **Character Integration** - Each hook embodies Mario character personalities
- 📊 **Advanced Analytics** - Detailed tracking of development patterns and growth
- 🪙 **Token Analytics** - Real-time Claude usage tracking with 5-hour session windows
- 🧠 **Context Intelligence** - Smart prompt enhancement with project awareness
- 💾 **Session Recovery** - Automatic progress saves and restoration system
- 🚀 **Performance Optimized** - Minimal overhead with intelligent caching and batching

## 🔄 **Next Phase: Advanced Hook System Implementation**

Based on the comprehensive Claude Code hooks documentation, we're implementing the next evolution of Mario PowerUps:

### 🎯 **Immediate Development Goals**

1. **🛠️ Upgrade Existing Hooks** - Enhance current `coin-collector.sh` and `mario-safety-guardian.sh` with:
   - ✅ Proper JSON stdin input parsing using the official Claude Code format
   - ✅ Advanced JSON output control for sophisticated decision-making
   - ✅ Enhanced security validation with path traversal and sensitive file protection
   - ✅ Multi-dimensional achievement tracking with world progression

2. **🌟 Create New Advanced Hooks** - Implement the complete Mario gaming ecosystem:
   - 🎮 `mario-context-enhancer.sh` - UserPromptSubmit hook for intelligent context injection
   - 🏁 `session-welcome.sh` - SessionStart hook for personalized progress loading
   - 🎊 `achievement-celebrator.sh` - Enhanced celebration system for major milestones
   - 🧹 `progress-saver.sh` - PreCompact/Stop hooks for progress persistence
   - 🎵 `sound-effects.sh` - Audio feedback integration where supported

3. **⚙️ Advanced Configuration Templates** - Provide pre-configured settings for:
   - 🎯 Development workflow optimization (different hooks for different project types)
   - 🛡️ Security-first configurations for sensitive projects
   - 🚀 Performance-focused setups for large codebases
   - 🎮 Full gaming experience with all Mario mechanics enabled

### 🎮 **Hook Integration Strategy**

Each hook will embody Mario character personalities and leverage the full power of Claude Code's hook system:

- **📊 Data-Driven**: All hooks will use proper JSON input/output schemas
- **🎭 Character-Authentic**: Each hook maintains Mario character personality 
- **🚀 Performance-Optimized**: Minimal overhead with intelligent caching
- **🔒 Security-First**: Advanced validation and sanitization patterns
- **🌍 World-Progressive**: Integration with 8-world mastery progression system
- **🎮 Gaming-Complete**: Full RPG-style mechanics (coins, achievements, streaks, power-ups)

This represents the evolution from simple notification hooks to a comprehensive, interactive development experience that gamifies the entire coding workflow while maintaining professional functionality and security standards.

**The result**: A living, breathing Mario universe that accompanies developers on their coding journey, celebrating victories, preventing mistakes, and providing contextual guidance based on their skill level and progress through the legendary worlds of software mastery! 🍄⭐

## 🏆 Complete Achievement System

Track your journey from beginner to legendary developer:

### 🌱 **Foundation Achievements**
- 🍄 **Orchestra Member** - Experience your first multi-agent collaboration
- 🎭 **Character Whisperer** - Successfully trigger character evolution
- 🎨 **Dashboard Explorer** - Master the orchestra visualization system

### 🌟 **Mastery Achievements**
- 🎼 **Symphony Conductor** - Successfully orchestrate complex multi-character collaborations
- 🧬 **Evolution Catalyst** - Help characters develop breakthrough capabilities
- 🌌 **Cosmic Perspective** - Apply systems thinking to solve organization-level challenges

### 👑 **Legendary Achievements**
- 🏆 **Orchestra Master** - Achieve excellence across all collaboration scenarios
- 🌈 **Innovation Creator** - Generate solutions that demonstrate true emergent intelligence
- 🎮 **Mario Legend** - Master the complete system and help others on their journey

## 🎊 The Future of Software Engineering

*"The Mario AI Orchestra isn't just an evolution of AI assistance - it's a revolution in how humans and artificial intelligence collaborate. Here, individual brilliance amplifies through teamwork, impossible problems become orchestrated solutions, and every developer becomes the conductor of their own symphony of intelligence."*

**🍄⭐ Experience the adventure. Code the legendary. Welcome to Mario Bros PowerUps! ⭐🍄**

---

## 🎮 Ready to Begin Your Adventure?

```bash
# 🌟 Launch your first character collaboration
/mario-orchestra "Create something amazing that showcases character teamwork"

# 🏆 Check your progress status
/mario-status

# 🔥 Try a fusion team
/fire-trio "review this code for comprehensive feedback"
```

### 📚 **Complete System Documentation**
- **[🎼 Character Teams](commands/)** - Multi-character collaboration commands
- **[🧬 Character Specialization](claude-config/agents/)** - Individual character expertise
- **[🎨 Hook System](hooks/)** - Interactive development features
- **[📖 Complete Commands](ULTIMATE_COMMAND_REFERENCE.md)** - Every command and capability
- **[🗺️ Learning Paths](MASTER_INTEGRATION_GUIDE.md)** - Journey from beginner to expert

---

*"In the world of software engineering, every challenge becomes an adventure where legendary characters unite their unique gifts. The team is ready - now let's create amazing solutions together!"*

**Mario PowerUps Motto**: *"Together, we are more than the sum of our parts - we are the team that makes coding legendary!"* 🍄

*Made with ❤️ by the Mario Bros Engineering Team*  
*"Thank you for playing! The adventure never ends!"* 🎮⭐